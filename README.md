# ë„íˆ¬ë‹·í”ŒëŸ¬ìŠ¤
- âš™ï¸ ì›ì‘ì ê¹ƒí—ˆë¸Œ :
	* [JJoriping](http://blog.jjo.kr/)
- ğŸŒ ë°”ë¡œ ê°€ê¸° :
	* [KKuTuDotPlus](https://kkutu.plus)
	* [DesignSupport](https://kkutu.plus/designSupport.html)
	* [Discord](https://discord.gg/k9wJkQmKvY)
## âš ï¸ ì•Œë¦½ë‹ˆë‹¤ !
- ë„íˆ¬ë‹·í”ŒëŸ¬ìŠ¤ì˜ í—ˆê°€ ì—†ì´ ì´ ë ˆí¬ì§€í† ë¦¬ë¥¼ ì°¸ê³ ,ì‚¬ìš©í•˜ê±°ë‚˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.
	* ë„íˆ¬ë‹·í”ŒëŸ¬ìŠ¤ì—ì„œ ë¬´ë£Œë¡œ ì œê³µí•˜ëŠ” ë¦¬ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ : [DesignSupport](https://kkutu.plus/designSupport.html)

## í•œêµ­ì–´
**ê¸€ìì— ì¦ê±°ì›€ì„ ë”í•©ë‹ˆë‹¤. ë„íˆ¬ë‹·í”ŒëŸ¬ìŠ¤**

**ë„íˆ¬**ëŠ” ì—¬ëŸ¬ë¶„ì˜ ì–´íœ˜ë ¥ì„ ë°œíœ˜í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ë‹¨ì–´ ê²Œì„ë“¤ì´ ëª¨ì—¬ ìˆëŠ” ìºì£¼ì–¼ ê²Œì„ì…ë‹ˆë‹¤.
ë¡œë´‡ê³¼ í˜¼ìì„œ ê²Œì„ì„ í•  ìˆ˜ë„ ìˆê³ , ì„œë²„ì— ì ‘ì†í•´ ìˆëŠ” ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ í•  ìˆ˜ë„ ìˆì£ .
ì´ ì €ì¥ì†ŒëŠ” ì—¬ëŸ¬ë¶„ì´ **ë„íˆ¬**ë¥¼ ì¦ê¸°ê¸° ìœ„í•´ ì¤€ë¹„í•´ì•¼ í•  ê²ƒë“¤ì— ëŒ€í•´ ì•Œë¦¬ê³  ìˆìŠµë‹ˆë‹¤.

### ì„¤ì¹˜ ë°©ë²•
#### Windows í™˜ê²½
1. ì´ ë ˆí¬ì§€í† ë¦¬ë¥¼ ë‚´ë ¤ë°›ìŠµë‹ˆë‹¤.
1. [node.js](https://nodejs.org/ko/) ì¸ìŠ¤í†¨ëŸ¬ë¥¼ ë‚´ë ¤ë°›ì•„ ì„¤ì¹˜(ë²„ì „ 6 ì´ìƒ)í•©ë‹ˆë‹¤. [npm](https://www.npmjs.com/)ê³¼ í•¨ê»˜ ì„¤ì¹˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
1. ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ `npm install -g grunt grunt-cli`ë¥¼ ì…ë ¥í•´ [grunt](https://gruntjs.com/)ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
1. [PostgreSQL](https://www.postgresql.org/) ì¸ìŠ¤í†¨ëŸ¬ë¥¼ ë‚´ë ¤ë°›ì•„ *pgAdmin*(ìë™ìœ¼ë¡œ ì„¤ì¹˜ë¨)ê³¼ í•¨ê»˜ ì„¤ì¹˜í•©ë‹ˆë‹¤.
1. *pgAdmin*ì„ ì‹¤í–‰ì‹œí‚¤ê³  SQL íŒŒì¼(`./db.sql`)ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì…ë ¥ì‹œí‚µë‹ˆë‹¤.
	* ìì„¸í•œ ê³¼ì •ì€ [ê°œë°œì ë¸”ë¡œê·¸][dev-blog]ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
1. ë°°ì¹˜ íŒŒì¼(`./server-setup.bat`)ì„ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤.
1. ë°°ì¹˜ íŒŒì¼(`./Server/run.bat`)ì„ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤.
	* ë˜ë„ë¡ ì´ ë°°ì¹˜ íŒŒì¼ì„ ì§ì ‘ ì¢…ë£Œí•˜ì§€ ë§ê³  ì´ë¥¼ ì‹¤í–‰ì‹œì¼œ ë‚˜íƒ€ë‚˜ëŠ” ì°½ì„ ì¢…ë£Œí•˜ì„¸ìš”.

#### Linux í™˜ê²½
1. ì´ ë ˆí¬ì§€í† ë¦¬ë¥¼ ë‚´ë ¤ë°›ìŠµë‹ˆë‹¤.
1. íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ ì´ìš©í•˜ì—¬ [node.js](https://nodejs.org/)ì™€ [npm](https://www.npmjs.com/)ì„ ì„¤ì¹˜(ë²„ì „ 6 ì´ìƒ)í•©ë‹ˆë‹¤.
1. `npm install -g grunt grunt-cli`ë¥¼ ì…ë ¥í•´ [grunt](https://gruntjs.com/)ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
1. íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ ì´ìš©í•˜ì—¬ [PostgreSQL](https://www.postgresql.org/)ê³¼ *psql*ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
1. SQL íŒŒì¼(`./db.sql`)ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì…ë ¥ì‹œí‚µë‹ˆë‹¤.
	1. ëª…ë ¹ì–´ë¥¼ ë‹¤ìŒ ì˜ˆì™€ ê°™ì´ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: `sudo -u postgres psql --quiet main < ./db.sql`
1. ì„ˆ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼(`./server-setup.bat`)ì„ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤. (Windows ì „ìš© íŒŒì¼ì´ì§€ë§Œ Linuxì—ì„œë„ ì‘ë™í•©ë‹ˆë‹¤.)
1. ê²½ë¡œ `./Server`ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë“¤ì„ ì°¨ë¡€ëŒ€ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤:
	1. (ê²Œì„ ì„œë²„) `node lib/Game/cluster.js 0 1`
	1. (ì›¹ ì„œë²„) `node lib/Web/cluster.js 1`

#### ê³µí†µ
- PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì— ì ‘ì†í•˜ê¸° ìœ„í•´ ì„¤ì • íŒŒì¼(`./Server/lib/sub/global.json`)ì—ì„œ `PG_PASS` ê°’ì„ **ë°˜ë“œì‹œ** ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.
- í´ë” `./Server/lib/sub`ì— oAuth ì„¤ì • íŒŒì¼(`auth.json`)ê³¼ ì „ì—­ ì„¤ì • íŒŒì¼(`global.json`)ì„ **ë°˜ë“œì‹œ** ë§Œë“¤ì–´ ì£¼ì„¸ìš”. ë³¸ ë ˆí¬ì§€í† ë¦¬ì—ëŠ” ê° íŒŒì¼ì˜ ì–‘ì‹ì´ ë“¤ì–´ê°€ ìˆìŠµë‹ˆë‹¤.
- ë³¸ ë ˆí¬ì§€í† ë¦¬ì—ëŠ” [WordNet](https://wordnet.princeton.edu/) ìë£Œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì„œë²„ë¥¼ ìš´ì˜í•  ë•Œ ë°˜ë“œì‹œ ì‚¬ìš©ìì—ê²Œ ì´ì— ëŒ€í•œ ë¼ì´ì„ ìŠ¤ë¥¼ ì•ˆë‚´í•´ì•¼ í•©ë‹ˆë‹¤.
- í˜¸ìŠ¤íŠ¸ `127.0.0.2`ëŠ” ì›¹ ì„œë²„ì™€ ê²Œì„ ì„œë²„ ì‚¬ì´ì˜ ì—°ê²°ì„ ìœ„í•´ ì˜ˆì•½ëœ ì£¼ì†Œì´ë¯€ë¡œ ì´ ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼ í•©ë‹ˆë‹¤.
- ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ëœ ë‹¤ìŒë¶€í„°ëŠ” ì„œë²„ë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ì„œ ê°€ì¥ ë§ˆì§€ë§‰ ë‹¨ê³„ë§Œ ìˆ˜í–‰í•˜ë©´ ë©ë‹ˆë‹¤.
- ì„œë²„ê°€ ì„±ê³µì ìœ¼ë¡œ ì—´ë¦° í›„ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ `127.0.0.1`(ë‹¤ë¥¸ ì‚¬ëŒë“¤ì€ í•´ë‹¹ ì»´í“¨í„°ì˜ ì™¸ë¶€ IP ì£¼ì†Œ)ë¡œ ì ‘ì†í•˜ì—¬ ë„íˆ¬ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë­í‚¹ ë° ì„¸ì…˜ ê¸°ëŠ¥ ì¼ë¶€ëŠ” [Redis](https://redis.io/) ì„œë²„ê°€ ì‹¤í–‰ë˜ì–´ì•¼ë§Œ ì‘ë™í•©ë‹ˆë‹¤. ì¼ë‹¨ ì´ë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ì„œë²„ê°€ ì‘ë™í•  ìˆ˜ ìˆë„ë¡ ì¡°ì¹˜í–ˆìŠµë‹ˆë‹¤.
- [Cloudflare](https://www.cloudflare.com/)ë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°, DNS íƒ­ì˜ statusë¥¼ `DNS only`ë¡œ ë‘ì„¸ìš”. `DNS and HTTP proxy (CDN)`ìœ¼ë¡œ ë‘˜ ê²½ìš°, ë°© ë§Œë“¤ê¸°ì™€ ë°© ì…ì¥ì´ ë¶ˆê°€í•©ë‹ˆë‹¤.

### ë¼ì´ì„ ìŠ¤
- ëª¨ë“  ì†ŒìŠ¤ ì½”ë“œì— ëŒ€í•´: [GNU ì¼ë°˜ ê³µì¤‘ ì‚¬ìš© ë¼ì´ì„ ìŠ¤](https://github.com/JJoriping/KKuTu/blob/master/LICENSE)
- ëª¨ë“  ì´ë¯¸ì§€ ë° ì†Œë¦¬ì— ëŒ€í•´: [í¬ë¦¬ì—ì´í‹°ë¸Œ ì»¤ë¨¼ì¦ˆ ë¼ì´ì„ ìŠ¤ CC BY](https://creativecommons.org/licenses/by/4.0/)
	- ë‹¤ë§Œ ë³¸ ë ˆí¬ì§€í† ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” ì†ŒìŠ¤ ì½”ë“œë¡œ ë„íˆ¬ ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ê¸° ìœ„í•´ ì´ë“¤ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì €ì‘ì í‘œì‹œ(BY)ë¥¼ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## English
> Rule the words! KKuTuDotPlus

**KKuTu** is a casual game containing various word games that let players use their vocabulary.
Players can play alone with a robot, or play with other players who have entered to a server.
This repository provides you what you have to prepare to play **KKuTu**.

### How to Install
#### For Windows
1. Download or clone this repository to your machine.
1. Install [node.js](https://nodejs.org/en/) and [npm](https://www.npmjs.com/)(this will be installed automatically). The version should be â‰¥6.
1. Open *cmd* and run `npm install -g grunt grunt-cli` to install [grunt](https://gruntjs.com/).
1. Install [PostgreSQL](https://www.postgresql.org/) database server and *pgAdmin*(this will be installed automatically).
1. Run *pgAdmin* and put the SQL file(`./db.sql`) into your database.
	* For further details, visit [my blog][dev-blog].
1. Run the batch file(`./server-setup.bat`).
1. Run the batch file(`./Server/run.bat`).
	* If you want to close the server, it is recommended that closing not the command prompt window, but the window generated by the command.

#### For Linux
1. Download or clone this repository to your machine.
1. Install [node.js](https://nodejs.org/en/) and [npm](https://www.npmjs.com/) via a package manager. The version should be â‰¥6.
1. Run `npm install -g grunt grunt-cli` to install [grunt](https://gruntjs.com).
1. Install [PostgreSQL](https://www.postgresql.org/) database server via a package manager.
1. Put the SQL file(`./db.sql`) into your database.
	1. Run a command like: `sudo -u postgres psql --quiet main < ./db.sql`
1. Run the shell script file(`./server-setup.bat`). (It is a batch file for Windows but it will also work on Linux.)
1. Run these on working directory `./Server` in order:
	1. (Game server) `node lib/Game/cluster.js 0 1`
	1. (Web server) `node lib/Web/cluster.js 1`

#### Common
- You MUST edit the file(`./Server/lib/sub/global.json`) to connect to your PostgreSQL database server.
- You MUST create two files(`./Server/lib/sub/auth.json`, `./Server/lib/sub/global.json`) to turn on this server.
- This repository contains some data from [WordNet](https://wordnet.princeton.edu/). Please provide users the license of WordNet when you operate this server.
- The host `127.0.0.2` is reserved for connections between your web server and game server.
- Once the server is successfully installed, you can do just the last step of above-mentioned guideline whenever you want to run the server.
- You can open a browser and go to `127.0.0.1`(or external IP address for other people) to play **KKuTu**.
- Ranking and some session features require [Redis](https://redis.io/) server. This is optional.
- If you use Cloudflare, you should set status of DNS Tab to 'DNS only'. The status 'DNS and HTTP proxy (CDN)' could disable to open and enter to a room.

### License
- [GNU General Public License](https://github.com/JJoriping/KKuTu/blob/master/LICENSE) for all source codes in this repository.
- [Creative Commons License CC BY](https://creativecommons.org/licenses/by/4.0/) for all images and sounds in this repository.
	- But if you use these for operating KKuTu service provided by this repository, you may omit the attribution(BY).

[dev-blog]: http://blog.jjo.kr/220935346136